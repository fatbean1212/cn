如何写出更好的代码


# 0. Introduction

我不认为我有资格去教别人怎么写出更好的代码,我也承认我现在写的代码并不够"好",但是,我能够做到虚怀若谷、谦虚好学.我一直在寻找写出更好的代码的办法,最近的学习有较大的收获,希望跟大家分享.

我所谓的办法就是学习并践行《代码整洁之道》中的"代码味道",并通过不断的反思和重构,来改进已有的代码.这篇博客可以看成是《代码整洁之道》的读后感,也可以理解为是我寻找"如何写出更好的代码"的思考和感悟.

这篇博客共分为三部分,第一部分介绍了《代码整洁之道》这本书;第二部分从我自己的切身经历讨论了如何写出更好的代码;第三部分给出了代码整洁之道中的"代码味道".

# 1. 代码整洁之道

《[代码整洁之道][1]》是我过去一年看过的最有价值的书,这本书教我们如何写出整洁的代码. 这本书让我想起我研究生二年级期间,导师[手把手教我改论文][0]的场景,非常惭愧又非常骄傲的说,林老师手把手教我改论文,是我文字表达能力进步最大的一个阶段,显著提高了我的文字表达能力.而这本书,就是手把手教我写代码的"导师".

![cleanclode](/cn/clean_code.jpg)

这本书教授的内容非常简单,无非是一些琐碎的编程建议,目的就是培养你的"代码味道",教你写出更整洁的代码.这本书适合所有希望写出整洁代码的程序员,适合所有对自己有一定要求的程序员,如果你在读书期间或者刚毕业时就接触到这本书,那么,你是幸运的.

**注意:**这本书中的例子使用java写的,这也是为什么我之前就知道这本书但是一直没有提起兴趣看,请不要在意编程语言,书中的建议适合所有的程序员或编程语言.

全书分为三部分:

1. 第一部分是详细的编程建议,详细地说明每条建议的HOW与WHY,教你如何写代码;
2. 第二部分是三个重构的例子,将三个一般的项目重构成优美的项目,对于每一步修改,都给出了修改的原因,这一部分是作者手把手教我们写代码,这种前辈手把手教新手的机会不可多得;
3. 第三部分是总结,作者给出了所谓的"代码味道",是对第一部分与第二部分内容的总结,方便读者参考.

# 2. 如何写出更好的代码

这一节分为5个小节，对写出好代码的不同部分进行了讨论,其中,2.1节对写出好代码的初衷进行了讨论; 2.2节讨论了写出更好的代码的方法; 2.3节从宏观角度讨论具体的方法;2.4 从微观角度讨论了写出好代码的方法; 2.5节讨论了单元测试。

# 2.1 为什么要写出更好的代码

# 2.1 写代码就像写文章,读代码就像读小说


其他,写代码跟写论文非常像,简单说三点：

1. 打框架: 这是我导师教我写论文时,反复强调的一个观念,要先打框架,让读者知道你先讲什么、后讲什么,现在正在讲什么,要让读者对文章有宏观的概念,然后再深入细节.

代码整洁之道怎么说,5.2.2 概念见垂直方向上的区隔

>几乎所有的代码都可以从上往下读,从左往右读.每行展现一个表达式与一个子句,魅族代码航暂时一条完整的思路,这些思路用空白行区隔开来.

5.2.4 垂直距离

> 第5章的垂直格式：若某个函数调用了另外一个,就应该把它们放到一起,而且调用者应该尽可能放在被调用者上面


<代码整洁之道>中强调的"别随意","注意命名",代码的"垂直距离"等都与写论文非常相似.

2. 注意连词

3. 言简意赅

手把手教你,有些东西就是很简单,但是其实很重要.

这本书中的观点与我过去一年以内学到的东西非常吻合：

2. 写单元测试,写大量的单元测试

这是我工作半年以后,收获的最有用的经验.

3. 我是在给自己打工 --> 让营地比你来时更干净


# 4. 书中的编程建议

我本来是将这篇博客定位于"技术文章",不过感觉都是在扯淡,虽然说的不是具体的技术,但是,写这篇博客耗费了比写技术更多的时间,希望对读者有所帮助.

看完这篇博客迫不及待想开始学习《代码整洁之道》的同学,可以看这篇博客,不过还是建议买一本书回来,反复的学习、练习.

# 后记

在一本讨论如何写出更好的代码的博客中，居然没有出现一行代码，

1. http://www.cnblogs.com/forlina/archive/2011/06/24/2088603.html
[0]:http://dblab.xmu.edu.cn/post/767/
[1]:http://book.douban.com/subject/4199741/
