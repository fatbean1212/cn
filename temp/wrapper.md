
# MySQL的整体架构

我最近正在学习MySQL源码，已经对MySQL的整体架构有了一个较全面、完整的了解，正在准备深入细节。

在我学习的过程中，发现脑中牢记MySQL的整体架构对我理解各个点具有莫大的帮助，MySQL非常复杂，研究的人也很多，相关的示意图、流程图和架构图也很丰富，在我看过比较多的学习材料里面，接下来要介绍的两张图对我学习MySQL帮助最大，如果有研究MySQL的朋友，可以参考一下。

如果对MySQL还不太熟悉，可以先看《高性能MySQL》中的MySQL服务器逻辑架构图，对刚开始理解MySQL会有一定的帮助，但是，如果仅仅通过这张图理解MySQL的话，理解也太浅了。



**MySQL 的整体架构**

下图是MySQL模块的高层次视图，来自《MySQL Internal》的图1-1,我对改图进行了批注，主要是将书中提到的函数以注释的方式放在了图中，方便我随时查看和思索。

由于MySQL的Server层代码都位于源代码的sql目录下，模块化并不如InnoDB规范，因此，作者根据函数的作用（而不是以文件）进行了模块划分。在《MySQL
Internal》这本书的图1-1后面，详细的说明了每个模块包含哪些函数和每个模块的作用。

这张图详细的介绍了一条SQL语句的执行过程，可以没事跟着这张图以及[这里][1]的介绍，温故SQL语句执行的过程。


**InnoDB的整体架构**

InnoDB的模块划分则比MySQL
Server层好很多，但是，由于InnoDB足够复杂，因此，刚开始研究的时候，还是很难搞清楚storage/innobase目录下的各个子目录的作用，以及各个模块之间的调用关系。

[0]: 
[1]: http://dev.mysql.com/doc/internals/en/guided-tour-skeleton.html
[2] 
